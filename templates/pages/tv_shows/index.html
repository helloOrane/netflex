{% extends "base.html" %}

{%block content %}

        <h2 class="uk-text-large uk-text-bold uk-margin-medium-top">Tv Shows</h2>
        <!-- SLIDER OF CATEGORIES -->
        <div uk-slider="">
            <div class="uk-position-relative ">
                <div class="uk-slider-container ">
                    <div class=" uk-slider-items uk-grid">
                        {%for category in datas%}
                            <div>
                                <button class="uk-button uk-button-default">
                                {{category.category}}
                                </button>
                            </div>
                        {%endfor%}          
                    </div>
                </div>
                <!-- TODO: FIX navigation -->
                <a class="uk-position-center-left" href uk-slider-item="previous"><span uk-icon='icon: chevron-left' ></a>
                <a class="uk-position-center-right" href uk-slider-item="next"><span uk-icon='icon: chevron-right' ></a>
    
            </div>
        </div>
    
        {%for category in datas %}
        <h2 class="uk-text-large uk-text-bold uk-margin-medium-top">{{category.category}}</h2>
            {% if category.category == "Recently added"%}
                <!-- SLIDER -->
                <div uk-slider="">
                    <div class="uk-position-relative ">
                        <div class="uk-slider-container ">
                            <div class=" uk-slider-items uk-child-width-1-1">
                                {%for tv_show in category.tv_shows %}
                                    <div class="uk-cover-container uk-height-large">
                                        <a href="{{ url_for('movie_detail', movie_id=tv_show.id) }}">
                                            <!-- <img class="home-movies-news-slider" src={{tv_show.backdrop_path}} alt="{{tv_show.name}} picture"> -->
                                            <img class="home-movies-news-slider" src="https://image.tmdb.org/t/p/w100{{tv_show.backdrop_path}}" alt="{{tv_show.name}} picture">
                                        </a>
                                        <div class="uk-position-bottom-left uk-card uk-card-body uk-margin-medium-left uk-margin-medium-bottom uk-width-1-3 uk-height-1-2 uk-background-muted">
                                            <div class="uk-card-header">
                                                <h2 class="uk-card-title">{{tv_show.name}}</h2>
                                            </div>
                                            <div class="uk-card-body uk-visible@s">
                                                <p class="uk-margin uk-text-truncate">{{tv_show.overview}}</p>
                                            </div>
                                            <div class="uk-card-footer uk-flex uk-child-with-1-2">
                                                <button class="uk-button uk-button-primary uk-margin-small-right uk-width-1-2">Watch</button>
                                                <button class="uk-button uk-button-default uk-width-1-2">
                                                    <span class="uk-hidden@l">
                                                        <span uk-icon="icon: plus; ratio: 0.5"></span> List
                                                    </span>
                                                    <span class="uk-visible@l">Add to list</span></button>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <!-- TODO: FIX navigation -->
                        <a class="uk-position-center-left" href uk-slider-item="previous"><span uk-icon='icon: chevron-left' ></a>
                        <a class="uk-position-center-right" href uk-slider-item="next"><span uk-icon='icon: chevron-right' ></a>
    
                    </div>
                    
                </div>
                <!-- END SLIDER -->
            
    
            <!-- CATEGORY-->
            {%else%}
                <div uk-slider>
                    <div class="uk-position-relative">
                        <div class="uk-slider-container">
                            <div class="uk-slider-items uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-4@m">
                                {% for tv_show in category.tv_shows %}
                                    <div>
                                        <div class="uk-card uk-card-default">
                                        <div class="uk-card-media-top">
                                            <a href="{{ url_for('movie_detail', movie_id=tv_show.id) }}">
                                                <img class="home-movies-news-slider" src="https://image.tmdb.org/t/p/w500{{tv_show.backdrop_path}}" alt="{{tv_show.name}} picture" style="height: 500px;">
                                            </a>
                                        </div>
                                        <div class="uk-card-body">
                                            <h3 class="uk-card-title">{{tv_show.name}}</h3>
                                            <p>
                                                {{tv_show.overview}}
                                            </p>
                                        </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <a class="uk-position-center-left" href uk-slider-item="previous"><span uk-icon='icon: chevron-left' ></a>
                            <a class="uk-position-center-right" href uk-slider-item="next"><span uk-icon='icon: chevron-right' ></a>
                    </div>
                </div>
            {%endif%}
        {% endfor%}
{%endblock%}